import{g as o}from"./assets/db-97-DOlOW.js";import{G as n}from"./assets/game.service-Bf9Z8hov.js";import{w as i}from"./assets/auth-BVUYsDc6.js";import"sqlite3";import"sqlite";import"fs";import"path";import"./assets/utils-AQpNWTN2.js";import"pako";import"./assets/jwt-CO0ye28h.js";import"jsonwebtoken";const S=i(async r=>{const{user:t}=r;try{const e=await o(),s=await new n(e).leaveGame(t.userId);if(!s.success)return new Response(JSON.stringify({success:!1,message:s.message||"Failed to leave the game",error:s.message||"Failed to leave the game"}),{status:400,headers:{"Content-Type":"application/json"}});const a={success:!0,message:"Successfully left the game. Your base remains on the map."};return new Response(JSON.stringify(a),{status:200,headers:{"Content-Type":"application/json"}})}catch(e){return console.error("Error in leave game endpoint:",e),new Response(JSON.stringify({success:!1,error:"An unexpected error occurred while leaving the game",message:"An unexpected error occurred. Please try again."}),{status:500,headers:{"Content-Type":"application/json"}})}});export{S as POST};
