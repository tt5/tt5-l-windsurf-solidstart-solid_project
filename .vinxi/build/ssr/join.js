import{g as t}from"./assets/db-PRkUVS-C.js";import{G as a}from"./assets/game.service-rW1J-678.js";import{w as i}from"./assets/auth-BVUYsDc6.js";import{j as o}from"./assets/utils-AQpNWTN2.js";import"sqlite3";import"sqlite";import"fs";import"path";import"pako";import"./assets/randomSlopes-izTC2X1N.js";import"./assets/jwt-CO0ye28h.js";import"jsonwebtoken";const Y=i(async s=>{const{user:m}=s;try{const r=await t(),e=await new a(r).joinGame(m.userId);return e.success?o({success:!0,gameJoined:!0,homeX:e.homeX,homeY:e.homeY,message:"Successfully joined the game!"}):o({success:!1,gameJoined:e.gameJoined||!1,homeX:e.homeX||0,homeY:e.homeY||0,message:e.message||"Failed to join the game",error:e.error||"Failed to join the game"},400)}catch(r){return console.error("Error joining game:",r),o({success:!1,gameJoined:!1,homeX:0,homeY:0,error:"Internal server error",message:"An unexpected error occurred while joining the game."},500)}});export{Y as POST};
