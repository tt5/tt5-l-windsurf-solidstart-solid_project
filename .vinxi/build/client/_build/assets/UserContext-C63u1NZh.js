import{e as o,D as c,b as l,w as d,x as f}from"./index-BtiM2clC.js";const n=d();function m(r){const[a,t]=o(null),[i,u]=o(!0);return c(async()=>{try{const s=await fetch("/api/auth/verify");if(s.ok){const e=await s.json();e.valid&&e.user&&t({id:e.user.id,username:e.user.username,gameJoined:!1,homeX:0,homeY:0,role:e.user.role})}}catch(s){console.error("Failed to load user:",s)}finally{u(!1)}}),l(n.Provider,{value:{user:a,setUser:t,loading:i},get children(){return r.children}})}function U(){const r=f(n);if(!r)throw new Error("useUser must be used within a UserProvider");return r}export{m as U,U as u};
